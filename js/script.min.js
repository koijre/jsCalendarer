var days=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],startWithMonday=!0,returnFunc="alert",holidayDays=[0],today=new Date,thisMonth=today.getMonth(),thisYear=today.getFullYear(),thisDay=today.getDate();function showCalendar(a,t,e){$("#innerCalendar").remove(),this.startWithMonday=a,this.returnFunc=e,this.holidayDays=t;var n=new Date(thisYear,thisMonth,1);if(a)var s=n.getDay()-1;else s=n.getDay();-1==s&&(s=6);var h=new Date(thisYear,thisMonth+1,0),l=0,c=0;prepareTable();for(var i=0;i<6;i++){$("#innerCalendar").append('<tr class="week-'+i+'"> </tr>');for(var r=0;r<7;r++)if(r<s&&0==i)$(".week-"+i).append('<td class="inactive unclickable">'+new Date(thisYear,thisMonth,0-(s-r-1)).getDate()+"</td>");else if(l>=h.getDate())c+=1,$(".week-"+i).append('<td class="inactive unclickable">'+c+"</td>");else if(l+=1,t.length>0){var d=new Date(thisYear,thisMonth,l).getDay();d==t[0]||d==t[1]||d==t[2]||d==t[3]||d==t[4]||d==t[5]||d==t[6]?$(".week-"+i).append('<td class="inactive unclickable">'+l+"</td>"):$(".week-"+i).append('<td onclick="'+e+"('"+new Date(thisYear,thisMonth,l)+"');\">"+l+"</td>")}else $(".week-"+i).append('<td onclick="'+e+"('"+new Date(thisYear,thisMonth,l)+"');\">"+l+"</td>")}$("#innerCalendar").append('<tr><th onclick="monthDec()"><</td><td colspan="5" class="unclickable"></th><th onclick="monthInc()">></th>')}function prepareTable(){$("#calendar").append('<table id="innerCalendar"></table>'),$("#innerCalendar").append('<tr><th class="unclickable" colspan="7">'+monthNames[thisMonth]+", "+thisYear+"</th></tr>"),startWithMonday?$("#innerCalendar").append('<tr><th class="unclickable">'+days[0]+'</th><th class="unclickable">'+days[1]+'</th><th class="unclickable">'+days[2]+'</th><th class="unclickable">'+days[3]+'</th><th class="unclickable">'+days[4]+'</th><th class="unclickable">'+days[5]+'</th><th class="unclickable">'+days[6]+"</th></tr>"):$("#innerCalendar").append('<tr><th class="unclickable">'+days[6]+'</th><th class="unclickable">'+days[0]+'</th><th class="unclickable">'+days[1]+'</th><th class="unclickable">'+days[2]+'</th><th class="unclickable">'+days[3]+'</th><th class="unclickable">'+days[4]+'</th><th class="unclickable">'+days[5]+"</th></tr>")}function monthInc(){(thisMonth+=1)%12==0&&0!=thisMonth&&(thisYear+=1,thisMonth=0),showCalendar(startWithMonday,holidayDays,returnFunc)}function monthDec(){(thisMonth-=1)<0&&(thisYear-=1,thisMonth=11),showCalendar(startWithMonday,holidayDays,returnFunc)}showCalendar(startWithMonday,holidayDays,returnFunc);